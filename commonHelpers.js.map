{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n  <li class=\"gallery-card\">\n  <div class=\"container-el\">\n  <div class=\"container-img\">\n    <a href=\"${imgInfo.largeImageURL}\"><img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" /></a>\n  </div>  <div class=\"container-text\">\n      <p class=\"text-name\">Likes <span class=\"span-numbers\">${imgInfo.likes}</span></p>\n      <p class=\"text-name\">Views <span class=\"span-numbers\">${imgInfo.views}</span></p>\n      <p class=\"text-name\">Comments <span class=\"span-numbers\">${imgInfo.comments}</span></p>\n      <p class=\"text-name\">Downloads <span class=\"span-numbers\">${imgInfo.downloads}</span></p>\n    </div>\n  </div>\n</li>\n  `;\n};","// import axios from 'axios';\n\nconst url = 'https://pixabay.com';\n   export const fetchPhotos = inputValue => {\n   const options = new URLSearchParams ({\n    key: \"45423395-a55c580a59309a3b931c40bb9\",\n    q: inputValue,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    \n   })\n    return fetch (`${url}/api/?${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}\n\n\n// export const fetchPhotos = async(inputValue) => {\n//     // axios.defaults.baseURL = '';\n//     return axios.get('https://pixabay.com/api/?', {\n//         params: {\n//             key: \"45423395-a55c580a59309a3b931c40bb9\",\n//             q: inputValue,\n//             image_type: \"photo\",\n//             orientation: \"horizontal\",\n//             safesearch: true\n//         }\n//     }).then();\n// }","\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGalleryCardTemplate } from './js/render-functions.js'\nimport { fetchPhotos } from './js/pixabay-api.js'\n\nconst formEl = document.querySelector('.js-form');\nconst listEl = document.querySelector('.list-photo');\n\nfunction formSubmit(event) {\n  event.preventDefault();\n  const inputValue = formEl.elements.img.value.trim();\n  if (inputValue === \"\") {\n    iziToast.error({\n      message: 'Please enter a search term.',\n    });\n    return\n  }\n\n  formEl.reset();\n  const loaderEl = document.querySelector('.js-loader');\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotos(inputValue).then(data => {\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      listEl.innerHTML = '';\n      formEl.reset();\n\n      return;\n    }\n\n    const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails)).join('');\n\n    listEl.innerHTML = galleryCardsTemplate;\n\n    newSimple.refresh();\n  })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => { loaderEl.classList.add('is-hidden'); })\n\n}\n\nformEl.addEventListener('submit', formSubmit);\n\nconst newSimple = new SimpleLightbox('.container-img a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n\n});\n\nconst btnLoadMore = document.querySelector('.js-btn-load-more');\nbtnLoadMore.addEventListener('click', () => {})"],"names":["createGalleryCardTemplate","imgInfo","url","fetchPhotos","inputValue","options","response","formEl","listEl","formSubmit","event","iziToast","loaderEl","data","galleryCardsTemplate","imgDetails","newSimple","error","SimpleLightbox","btnLoadMore"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA;AAAA;AAAA,eAIMA,EAAQ,aAAa,mCAAmCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,8DAEnDA,EAAQ,KAAK;AAAA,8DACbA,EAAQ,KAAK;AAAA,iEACVA,EAAQ,QAAQ;AAAA,kEACfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,ICR7EC,EAAM,sBACIC,EAAcC,GAAc,CACzC,MAAMC,EAAU,IAAI,gBAAiB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEhB,CAAI,EACA,OAAO,MAAO,GAAGF,CAAG,SAASG,CAAO,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAS,SAAS,cAAc,aAAa,EAEnD,SAASC,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMN,EAAaG,EAAO,SAAS,IAAI,MAAM,OAC7C,GAAIH,IAAe,GAAI,CACrBO,EAAS,MAAM,CACb,QAAS,6BACf,CAAK,EACD,MACD,CAEDJ,EAAO,MAAK,EACZ,MAAMK,EAAW,SAAS,cAAc,YAAY,EACpDA,EAAS,UAAU,OAAO,WAAW,EAErCT,EAAYC,CAAU,EAAE,KAAKS,GAAQ,CAEnC,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,QAAS,0EACjB,CAAO,EACDH,EAAO,UAAY,GACnBD,EAAO,MAAK,EAEZ,MACD,CAED,MAAMO,EAAuBD,EAAK,KAAK,IAAIE,GAAcf,EAA0Be,CAAU,CAAC,EAAE,KAAK,EAAE,EAEvGP,EAAO,UAAYM,EAEnBE,EAAU,QAAO,CACrB,CAAG,EACE,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CAAEL,EAAS,UAAU,IAAI,WAAW,EAAI,CAE3D,CAEAL,EAAO,iBAAiB,SAAUE,CAAU,EAE5C,MAAMO,EAAY,IAAIE,EAAe,mBAAoB,CACvD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAEhB,CAAC,EAEKC,EAAc,SAAS,cAAc,mBAAmB,EAC9DA,EAAY,iBAAiB,QAAS,IAAM,CAAE,CAAA"}